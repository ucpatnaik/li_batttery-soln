The circuit uses an Arduino to drive a MOSFET Z44, Q1 through R2 330R from D3. An indication LED is driven from the same pin through another 300R. A variable resistance RV2 as the load is used just for simulation purposes. Varying the value of RV2 the current is changed which actually happens in real battery charging. In order to ascertain the real charging current and fully charged current while the battery is in use ( Measure the current in a multimeter) or a low-cost device as shown that reads both voltage and current. Note down the fully charged current readings. Choose the value of R5 or use one-ohm 1-watt resistor. Read the voltage drop across the R5 while fully charged and during charging. This is fed to A0 of Arduino. Correct some what mid-value in the program say 0.2 volt as we have taken. The volt meter and ammeter used are for simulation purposes only. The delay time is taken in the program for 3 seconds ie  3000 mili seconds for simulation purposes only.  Change the delay time to say 30000.    However, in practice, the output should be fed to the battery. For ease of use take a USB socket at the RV2 points (not using the RV2). The best will be to take a USB extension cord and cut it into 2 pieces. Use the male end to the 5-volt adapter for feeding the power to the circuit and the female end connected at the RV2 points (not using the RV2).
